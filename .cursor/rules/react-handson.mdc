---
description: Reactコンポーネント開発ルール。handson/challengeとhandson/answer用。
globs: ["handson/challenge/**/*.tsx", "handson/answer/**/*.tsx"]
alwaysApply: false
---

# Reactコンポーネント開発ルール

## 基本原則

handson/challenge と handson/answer のReactコンポーネントは、以下の原則に従って実装してください。

## コンポーネントの書き方

### 関数コンポーネント

```typescript
interface ComponentProps {
  prop1: string;
  prop2: number;
}

export function Component({ prop1, prop2 }: ComponentProps) {
  return <div>{prop1}</div>;
}
```

### Propsの型定義

```typescript
interface TodoItemProps {
  todo: Todo;
  onToggle: (id: string) => void;
  onDelete: (id: string) => void;
}
```

## 状態管理

### useState

```typescript
const [state, setState] = useState<Type>(initialValue);
```

### useCallback

```typescript
const handleClick = useCallback(() => {
  // 処理
}, [dependencies]);
```

## イベントハンドラー

```typescript
const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault();
  // 処理
};
```

## ファイル命名規則

- **ケバブケース**: `todo-item.tsx`, `todo-list.tsx`
- **コンポーネント名**: PascalCase（`TodoItem`, `TodoList`）

## コンポーネント分割

- **単一責務**: 1つのコンポーネントは1つの責務
- **再利用性**: 汎用的なコンポーネントを作成
- **適切な粒度**: 小さすぎず、大きすぎない

## アクセシビリティ

```typescript
<button
  aria-label="TODOを追加"
  aria-pressed={isPressed}
>
  追加
</button>
```

## スタイリング

- インラインスタイルまたはCSS Modulesを使用
- レスポンシブデザインを考慮
- アクセシビリティを考慮（色のコントラスト等）

## 禁止事項

- ❌ any型の使用
- ❌ コンポーネント内での直接的なDOM操作
- ❌ グローバル変数の使用
- ❌ 副作用をコンポーネント本体に直接記述

## 推奨事項

- ✅ 型安全性を確保
- ✅ 純粋関数として実装
- ✅ 適切なコメント（JSDoc）
- ✅ エラーハンドリング
- ✅ パフォーマンス最適化（useMemo, useCallback等）
